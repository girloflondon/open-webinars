# Создание адаптивной типографики на сайте для разных устройств
На сегодняшний день верстку приходится адаптировать для самых разных устройств, большую долю которых занимают мобильные телефоны, планшеты и компьютеры. Главная задача современного веб-интерфейса — быть удобным для пользователя любого устройства, и в первую очередь это касается текста. Он должен хорошо читаться с экрана.

Рассмотрим пример первого экрана главной страницы интернет-магазина мотоциклов с заголовком, текстовым блоком и кнопкой-ссылкой:

```html
    <section class="hero container">
        <header>
          <h2>Welcome to The Motorbikes Shop
        </h2>
        </header>
        <p>The Motorbike Shop is the South’s leading Premier Yamaha Dealer. We are a privately owned business based in Hampshire, offering the highest levels of service and expertise, whether you are looking to purchase a new Yamaha, a used motorcycle, or to service and maintain your current motorcycle.</p>
        <div class="actions">
            <a href="#" class="button">Get this party started</a>
        </div>
    </section>
```
Зададим размеры надписей на странице в пикселах:

```css
    body {
        font-size: 20px;
    }
    
    h2 {
        line-height: 1.25;
        font-size: 60px;
    }
    
    .button {
        font-size: 30px;
    }
```
На экране ноутбука верстка выглядит таким образом:


![](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520926500249_Screen+Shot+2018-03-13+at+10.34.31.png)


Но если протестировать верстку на планшете и мобильном телефоне, получается не совсем то, что мы ожидали:


![Верстка на iPad](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520716640532_Screen+Shot+2018-03-11+at+00.16.42.png)
![Верстка на iPhone](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520716640332_Screen+Shot+2018-03-11+at+00.16.54.png)


Если оставить такой размер шрифта, то когда ширины окна окажется меньше, чем у ноутбука, он будет слишком крупным и воспринимать текст будет сложно.

В таких случаях принято уменьшать размер шрифта соответственно уменьшению ширины окна устройства или ширины окна браузера. Дизайнер решил, что заданные нами выше размеры подойдут для экрана ноутбука, для планшета заголовок должен стать размера 42px, текст — 14px, а шрифт кнопки - 21px, а для мобильного телефона заголовок будет примерно 34px, текст 11px, а надпись на кнопке - около 17px. Тогда пользователю будет удобно читать и с планшета, и с телефона, и с компьютера. Попробуем записать это на языке CSS.

Чтобы сообщить браузеру, какой размер шрифта ему нужно использовать при какой ширине окна браузера, воспользуемся медиа-запросами CSS.

Медиа-запросы — это возможность браузера выбрать устройства, которые отвечают заданным параметрам, и применить к ним свой CSS. Одним из таких параметров является ширина области просмотра. Такой медиа-запрос имеет вид:

```css
    @media (width: 600px) { 
      body {
        font-size: 11px;
      }
    }
```
Этот код сообщит браузеру, что ему нужно установить размер шрифта для  body, равный 14px тогда и только тогда, когда ширина области просмотра (т.е. ширина окна браузера) будет равна 600px.

Но как же быть, когда нам нужно задать стили для диапазона значений, например, до 600px? Писать 600 медиа-запросов для каждой точки было бы очень неудобно, вам не кажется? Именно поэтому для параметра width были придуманы приставки min- и max-. Например, код

```css
    @media (min-width: 600px) { 
      body{
        font-size: 14px;
      }
    }
```
будет срабатывать для случаев, когда область просмотра будет большей или равной 600px.

а такой код:

```css
    @media (max-width: 600px) { 
      body{
        font-size: 11px;
      }
    }
```
— когда ширина области просмотра будет меньшей или равной 600px. Теперь мы сможем записать наши размеры шрифта для мобильного телефона и для ноутбука

```css
    h2 {
        line-height: 1.25;
    }
    
    @media (max-width: 599px) { // для мобильного телефона
      body {
          font-size: 11px;
      }
      
      h2 {
          font-size: 34px;
      }
      
      .button {
          font-size: 17px;
      }
    }
    @media (min-width: 1200px){ // для ноутбука
      body {
          font-size: 20px;
      }
      
      h2 {
          font-size: 60px;
      }
      
      .button {
          font-size: 30px;
      }
    }
```
Хорошо, но как же нам задать стили для планшета? Ведь для этого нам нужно записать код для отрезка 600px - 1199px.

Для этого случая мы запишем более сложный медиа-запрос. Чтобы объединить два условия — “больше 600px” и “меньше или равно 1199px” мы будем использовать логическое and в медиа-запросе:

```css
    @media (min-width: 600px) and (max-width: 1199px)
```
Стили из такого запроса будут применяться только тогда, когда ширина области просмотра будет находиться в диапазоне от 600px до 1199px, то есть, когда оба условия будут выполняться одновременно. Теперь мы сможем записать размеры шрифта для планшета:

```css
    @media (min-width: 600px) and (max-width: 1199px){ // стили для планшета
      body {
            font-size: 14px;
        }
        
      h2 {
          font-size: 42px;
      }
      
      .button {
          font-size: 21px;
      }  
    }
```
В итоге наш код будет выглядеть так:

```css
    h2 {
        line-height: 1.25;
    }
    
    @media (max-width: 599px) { // для мобильного телефона
      body {
          font-size: 11px;
      }
      
      h2 {
          font-size: 34px;
      }
      
      .button {
          font-size: 17px;
      }
    }
    
    @media (min-width: 1200px){ // для ноутбука
      body {
          font-size: 20px;
      }
      
      h2 {
          font-size: 60px;
      }
      
      .button {
          font-size: 30px;
      }
    }
    
    @media (min-width: 600px) and (max-width: 1199px){ // стили для планшета
      body {
            font-size: 14px;
        }
        
      h2 {
          font-size: 42px;
      }
      
      .button {
          font-size: 21px;
      }  
    }
```
Посмотрим, как выглядит верстка на разных устройствах. На ноутбуке ничего не изменилось, однако на планшете и мобильном телефоне все стало выглядеть намного лучше:


![Верстка на iPad](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520718176022_Screen+Shot+2018-03-11+at+00.42.28.png)
![Верстка на iPhone](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520718175856_Screen+Shot+2018-03-11+at+00.42.39.png)


Все работает, но наше решение недостаточно оптимально. Посмотрите, ведь мы трижды задаём и размер шрифта текста, и размер шрифта заголовка, и размер шрифта кнопки.
Можно ли как-то упростить это? Да, и в этом нам помогут относительные единицы измерения rem.

rem —  “root (корневые) em“ —  единицы измерения в CSS, которые позволяют задавать размер шрифта, зависящий от свойства font-size корневого элемента, т.е тега html.

Обратим внимание, что дизайнер предусмотрел одинаковые соотношения между размерами шрифтов блоков:
Когда слоган 60px, подпись 20px и надпись на кнопке 30px; потом 42px, 14px и 21px и наконец, ~34px, ~11px и ~17px.

Во всех трех случаях размер заголовка в 3 раза больше размера шрифта текста, а размер шрифта кнопки - в 1,5 раза больше размера шрифта текста.

Тогда можно считать, что размер заголовка 3rem, размер текста 1rem, а шрифт кнопки 1.5rem.
Запишем:

```css
    body {
      font-size: 1rem;
    }
      
    h2 {
      font-size: 3rem;
    }
    
    .button {
      font-size: 1.5rem;
    }
```
Остается добавить значения для размера шрифта блока html для каждого из трех случаев:

```css
    body {
      font-size: 1rem;
    }
      
    h2 {
      font-size: 3rem;
    }
    
    .button {
      font-size: 1.5rem;
    }
    
    @media (max-width: 599px){ // для мобильного телефона
      html{
        font-size: 11px;
      }
    }
    @media (min-width: 600px) and (max-width: 1199px){ // для планшета
      html{
        font-size: 14px;
      }
    }
    @media (min-width: 1200px){ // для ноутбука
      html{
        font-size: 20px;
      }
    }
```

Ура! Наш код стал проще. Можно ли использовать rem где-то ещё, кроме как для задания размера шрифта? Конечно, да, для любых свойств. Давайте укажем верхний и нижний padding контейнера в rem:

```css
    .header-wrapper{
          padding-top: 5rem;// вместо 100px
          padding-bottom: 1rem;//вместо 20px
    }
```
Текст по-прежнему читается отлично, плюс мы сделали отзывчивыми и вертикальные отступы:


![](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520719261250_Screen+Shot+2018-03-11+at+01.00.43.png)
![](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520719261086_Screen+Shot+2018-03-11+at+01.00.29.png)


Но как же сделать надписи адаптивными? Сейчас надписи отзывчивые, то есть, размер шрифта меняется при прохождении некоторых breakpoints.

Изменять надписи плавно нам помогут единицы измерения vw (viewport width).
1vw равен 1% от ширины области просмотра.

Используем vw для того, чтобы выразить размер шрифта блока html.
Попробуем подобрать нужное значение. 1vw в точке 1200px равен 12px, то есть 20px = 1.6666vw.

Запишем для блока

```css
    html{
      font-size: 1.6666vw;
    }
    body {
      font-size: 1rem;
    }
      
    h2 {
      font-size: 3rem;
    }
    
    .button {
      font-size: 1.5rem;
    }
```
При ширине области просмотра 1200px на ноутбуке мы получим следующие значения размеров шрифта:

- 60px для заголовка
- 20px для текста
- 30px для кнопки

А на планшете с шириной области просмотра 600px значения станут равны


- 30px для заголовка
- 10px для текста
- 15px для кнопки

Но это не те значения, которые нам нужны. Как же быть?

Посмотрим внимательнее на соотношение 1vw и нужного нам размера шрифта для html:


| 1vw             | font-size |
| --------------- | --------- |
| 3.2px (телефон) | ~11px     |
| 6px (планшет)   | 14px      |
| 12px (ноутбук)  | 20px      |


Получается, что нужный нам размер шрифта всегда больше, чем 1vw на 8px!

Теперь нам останется только записать эту формулу на языке CSS. Однако, это не так-то просто: сам по себе CSS не умеет выполнять арифметические действия. А чтобы вычислить сумму 8px + 1vw, используем функцию calc:

```css
    html{
      font-size: calc(8px + 1vw);
    }
```
Все работает отлично. Теперь во всех трех случаях у нас нужный размер шрифта, а также можно убедиться, что при сужении окна браузера размер шрифта плавно меняется, то есть надписи стали адаптивными.

Но есть один нюанс: при такой записи для font-size пользователь совершенно не сможет управлять размером шрифта. Попробуем зайти в настройки браузера Google Chrome и увеличить шрифт:


![](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520925927644_Screen+Shot+2018-03-13+at+10.24.04.png)


Как мы видим, ничего не поменялось:


![](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520926514844_Screen+Shot+2018-03-13+at+10.34.31.png)


Это плохо, потому что те пользователи, которые установили в настройках увеличение шрифта, получат стандартный размер шрифта на нашей страничке. Как же устранить этот недостаток кода?

Повлиять на величину 1vw мы не можем, эта единица зависит только от ширины области просмотра. Но у нас есть часть 8px, и именно она выручит нас.

По умолчанию в каждом браузере есть некоторое стандартное значение для font-size. Действительно, если мы откроем нашу разметку, отключив стили, текст не станет невидимым (его размер будет не 0). И это стандартное значение размера шрифта принимается за 100% и записывается как font-size: 100%. 

При этом если у пользователя стандартный размер шрифта браузера, это значение будет равно 16px (а например, если выбрать "большой", то будет равно 20px).
Если 16px это 100%, то нужные нам для нашей задачи 8px как 50%. И тогда наша формула примет вид

```css
    html{
      font-size: calc(50% + 1vw);
    }
```
Проверим, влияет ли настройка пользователя теперь на наш размер шрифта:


![](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520926521303_Screen+Shot+2018-03-13+at+10.34.31.png)
![](https://d2mxuefqeaa7sj.cloudfront.net/s_B5FA030D3A0FB8C5234807444BA62C2DD593257479871A9EF5C7CD34D2BC3406_1520926531091_Screen+Shot+2018-03-13+at+10.34.42.png)


Теперь нашу страничку будет удобно читать и пользователям с измененным размером шрифта в браузере.

